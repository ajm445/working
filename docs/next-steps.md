# 일본 워킹홀리데이 앱 - 다음 개발 단계 가이드

## 📋 현재 프로젝트 상태 (2025년 최신 - 일본 특화 완료)

### ✅ 완료된 기능
- **기본 CRUD 기능**: 수입/지출 내역 추가, 조회, 삭제
- **실시간 계산**: 총 수입, 총 지출, 잔액 자동 계산 (다중 통화 지원)
- **카테고리 시스템**: 워킹홀리데이 특화 카테고리 분류
- **반응형 UI**: 데스크톱/모바일 최적화 디자인
- **TypeScript**: 체계적인 타입 안전성 및 인터페이스 구조
- **모던 스택**: React 19 + Vite 7 + Tailwind CSS 3.4
- **다중 통화 시스템**: KRW, USD, JPY 지원 + 실시간 환율 API 연동
- **컴포넌트 아키텍처**: 모듈화된 컴포넌트 구조 (Dashboard, TransactionForm, TransactionList)
- **상태 관리**: Context API (CurrencyContext, AppModeContext) + 커스텀 훅 (useCurrency, useCurrencyConversion, useCurrencyConverter)
- **유틸리티 시스템**: 계산, 환율 처리, 통화 포맷팅 함수 분리
- ✅ **이중 모드 시스템**: 가계부와 일본 특화 초기비용 계산기 전환 완료
- ✅ **🇯🇵 일본 워킹홀리데이 초기비용 계산기** (일본 특화 완료!):
  - 🎯 **일본 전용 특화**: 기존 5개국 → 일본 집중 개발
  - 🏙️ **도쿄/오사카 지역별**: 지역별 비용 차등 시스템 구축
  - 📋 **16개 일본 특화 카테고리**: 필수 8개 + 선택 8개 (재류카드, 국민건강보험 등)
  - 🏷️ **7개 카테고리 그룹**: 출국전준비, 입국후정착, 주거, 교통, 교육, 생활, 비상
  - 🇯🇵 **한일 병기 표시**: 모든 카테고리에 일본어 동시 표시
  - 💱 **JPY 실시간 환율**: KRW↔JPY 실시간 변환 및 계산
  - ⚡ **빠른 입력 기능**: 최소/평균/최대 비용 원클릭 입력
- ✅ **듀얼 모드 네비게이션**: 상단 탭을 통한 모드 전환

### 🔄 현재 개발 방향 (일본 특화 완료 후 업데이트)
- **🇯🇵 일본 특화 기능 확장**: 더 많은 일본 지역 (후쿠오카, 삿포로 등) 및 계절별 비용 차이 반영
- **📊 데이터 지속성**: 일본 특화 데이터 저장 및 LocalStorage 구현이 최우선
- **💹 통계 및 분석**: 일본 생활비 패턴 분석 (차트, 인사이트, 지역별 비교)
- **🌸 사용자 경험**: 일본 워킹홀리데이 체크리스트, 생활 가이드, 절약 팁 제공
- **🗾 일본어 현지화**: 완전한 일본어 인터페이스 추가

---

## 🌏 Phase 2: 데이터 지속성 및 고급 기능 (다음 우선 기능)

### ✅ 완료된 Phase 2 작업들 (일본 특화 완료!)
- ✅ **일본 특화 초기비용 계산기**: 16개 일본 전용 카테고리 및 타입 정의 완료
- ✅ **도쿄/오사카 지역별 차등 시스템**: JapanRegionSelector, 지역별 비용 범위 자동 조정
- ✅ **일본 특화 컴포넌트**: JapanCostCategoryCard, JapanCostSummary, JapanRegionSelector 완료
- ✅ **한일 병기 시스템**: 모든 카테고리에 한국어-일본어 동시 표시
- ✅ **7개 카테고리 그룹 분류**: 체계적인 비용 분류 및 UI 구성
- ✅ **JPY 실시간 환율 시스템**: KRW↔JPY 변환 및 계산 완료
- ✅ **일본 특화 데이터 구조**: japanCostCategories.ts, japanCost.ts 타입 체계 완료

### 🔄 Phase 2-B: 일본 특화 기능 확장

#### 2-B.1 더 많은 일본 지역 지원
```typescript
// 추가할 일본 지역들
const ADDITIONAL_JAPAN_REGIONS = [
  'fukuoka',     // 후쿠오카 - 한국과 가까운 지역
  'sapporo',     // 삿포로 - 겨울 스포츠, 계절성 일자리
  'nagoya',      // 나고야 - 제조업 중심지
  'sendai',      // 센다이 - 동북 지역 중심
  'hiroshima',   // 히로시마 - 서일본 지역
  'kyoto',       // 교토 - 전통 문화 지역
];
```

#### 2-B.2 일본 특화 세부 카테고리 확장
```typescript
// 기존 일본 카테고리를 더 세분화
const EXPANDED_JAPAN_CATEGORIES = [
  // 계절별 비용
  '겨울 난방비',        // 지역별 차이 큰 항목
  '여름 냉방비',        // 에어컨 사용료
  '계절별 의류비',      // 유니클로, 무지 등 일본 브랜드

  // 일본 생활 특화
  '일본어 능력시험 (JLPT)',  // N5~N1 레벨별
  '일본 문화 체험',          // 다도, 꽃꽂이 등
  '온천/센토 이용료',        // 일본 고유 문화
  '지역 축제 참가비',        // 마츠리 등
];
```

### 우선순위 3: 사용자 경험 개선 (UI/UX 고도화)

#### 3.1 고급 UI 컴포넌트
- **모달 창**: 삭제 확인, 설정 등
- **토스트 알림**: 성공/실패 메시지
- **로딩 상태**: 데이터 처리 중 표시
- **드래그 앤 드롭**: 카테고리 순서 변경

#### 3.2 필터링 및 검색
```typescript
// 구현할 기능들
interface FilterOptions {
  type?: 'income' | 'expense' | 'all';
  category?: string;
  dateRange?: {
    start: string;
    end: string;
  };
  searchKeyword?: string;
}
```

---

## 📊 Phase 3: 고급 분석 및 인사이트 기능

### 3.1 차트 라이브러리 도입
```bash
# 권장 라이브러리
npm install recharts  # React 친화적인 차트 라이브러리
npm install @types/recharts -D

# 또는
npm install chart.js react-chartjs-2
```

### 3.2 구현할 통계 기능
- **월별 지출 트렌드**: 라인 차트
- **카테고리별 지출 분포**: 파이 차트
- **수입 vs 지출**: 바 차트
- **일일/주간/월간 요약**: 대시보드 카드

### 3.3 예산 관리 시스템
```typescript
interface Budget {
  id: string;
  category: string;
  amount: number;
  period: 'weekly' | 'monthly';
  startDate: string;
}
```

---

## 🇯🇵 Phase 4: 일본 워킹홀리데이 특화 기능 확장

### 4.1 다중 통화 시스템 고도화 (기본 기능 완료됨)
```bash
# ✅ 이미 구현 완료
- KRW, USD, JPY 지원
- 실시간 환율 API 연동 (ExchangeRate-API.com)
- 1시간마다 자동 갱신
- 통화별 금액 입력 및 원화 환산

# 🔄 추가 구현 필요
- 더 많은 통화 지원 (EUR, AUD, CAD, GBP 등)
- 오프라인 모드를 위한 환율 캐싱
- 환율 히스토리 추적
- 수수료 계산기 (ATM, 환전소)
```

### 4.2 일본 지역별 설정
```typescript
interface JapanRegionSettings {
  region: JapanRegion;
  currency: 'JPY';
  locale: 'ja-JP';
  commonCategories: string[];
  averageRent: { shareHouse: number; oneRoom: number };
  averageWage: { partTime: number; fullTime: number };
  seasonalFactors: {
    winter: number;  // 겨울 추가 비용 계수
    summer: number;  // 여름 추가 비용 계수
  };
  taxRate: 0.10;   // 일본 소비세 10%
}
```

### 4.3 일본 워킹홀리데이 특화 기능
- **🏦 일본 은행 계좌 개설 가이드**: 필요 서류 및 절차 안내
- **💴 엔화 현금 관리**: ATM 수수료, 편의점 ATM 위치
- **📱 일본 생활 필수 앱**: PayPay, Suica, Google Translate 설정 가이드
- **🏥 일본 의료 시스템**: 병원 이용법, 처방전 시스템
- **🍜 일본 음식 예산 관리**: 편의점 vs 레스토랑 vs 자취 비용 비교
- **🚇 일본 대중교통 최적화**: JR Pass, 정기권, IC카드 비용 계산기

---

## 🌐 Phase 5: 고급 기능 및 최적화

### 5.1 PWA (Progressive Web App) 구현
```bash
# Vite PWA 플러그인 설치
npm install vite-plugin-pwa -D

# 기능
- 오프라인 사용 가능
- 홈 화면에 앱 추가
- 푸시 알림 (예산 초과 경고)
```

### 5.2 일본어 현지화 (i18n)
```bash
npm install react-i18next i18next

# 우선 지원 언어 (일본 특화)
- 한국어 (기본) - 워킹홀리데이 준비자용
- 일본어 (메인) - 현지 생활용, 완전한 일본어 인터페이스
- 영어 (보조) - 영어권 사용자 및 국제적 사용

# 일본어 특화 기능
- 일본 관련 용어의 정확한 번역
- 일본 행정 용어 (재류카드, 주민등록 등)
- 일본 생활 용어 (쉐어하우스, 컨비니 등)
```

### 5.3 성능 최적화
- **가상화**: 많은 거래 내역 처리
- **메모이제이션**: 불필요한 재렌더링 방지
- **코드 분할**: 라우트별 번들 분리
- **이미지 최적화**: WebP 포맷 사용

---

## 🔧 즉시 시작 가능한 개발 작업 (일본 특화 완료 후 우선순위)

### 🥇 Highest Priority (1주일 소요)

#### 1. 일본 특화 데이터 지속성 구현 💾
```bash
# LocalStorage 기반 일본 특화 데이터 저장
npm install use-local-storage-state  # 선택사항

# 구현 순서
1. src/hooks/useLocalStorage.ts - 기본 LocalStorage 훅
2. src/contexts/PersistenceContext.tsx - 일본 특화 데이터 지속성 관리
3. 기존 일본 특화 상태 관리에 저장/로드 로직 통합
4. 일본 지역별 데이터 마이그레이션 및 백업/복원

# 저장할 일본 특화 데이터
- 일본 워킹홀리데이 가계부 거래 내역 (JPY 기준)
- 도쿄/오사카 지역별 초기비용 계산 결과
- 선택한 일본 지역 및 사용자 설정
- JPY 환율 캐시 데이터
- 일본 생활 체크리스트 진행 상황
```

#### 2. 일본 생활비 통계 및 차트 시스템 구축 📊
```bash
# Recharts 라이브러리 설치
npm install recharts @types/recharts

# 구현 순서
1. src/utils/japanStatistics.ts - 일본 특화 통계 계산 로직
2. src/components/JapanCharts/ - 일본 특화 차트 컴포넌트들
3. src/components/JapanStatsDashboard/ - 일본 생활비 통계 대시보드
4. 일본 워킹홀리데이 가계부에 통계 섹션 추가

# 일본 특화 핵심 기능
- 월별 JPY 수입/지출 트렌드 (Line Chart)
- 일본 생활 카테고리별 지출 분포 (Pie Chart) - 식비, 교통, 주거 등
- 도쿄 vs 오사카 생활비 비교 차트 (Bar Chart)
- 일본 초기비용 vs 실제지출 비교 분석
- 일본 워킹홀리데이 시기별 지출 패턴 (계절별 분석)
- 일본 아르바이트 수입 대비 지출 비율 차트
```

### 🥈 High Priority (3-5일 소요)

#### 1. 일본 초기비용 계산기 고도화
```bash
# 일본 특화 기능 확장
1. 더 많은 일본 지역 추가 (후쿠오카, 삿포로, 나고야, 교토 등)
2. 계절별 비용 차이 반영 (겨울/여름 에너지비, 의류비 등)
3. 일본어 능력 레벨별 어학원 비용 차등화 (JLPT N5~N1)
4. 일본 초기비용 결과 저장 및 지역별 비교 기능

# 일본 특화 UI/UX 개선
- 일본 지역별 맞춤 생활 가이드 및 절약 팁
- 도쿄/오사카 비용 차이 시각화 (인포그래픽)
- 일본 워킹홀리데이 준비 체크리스트 연동
- 실제 일본 워킹홀리데이 경험자 후기 및 팁
- 계절별 비용 변화 그래프 (벚꽃철, 여름축제, 겨울 등)
```

#### 2. 일본 생활비 고급 필터링 및 검색 시스템
```bash
# 일본 워킹홀리데이 가계부 모드 향상
- 일본 달력 기반 날짜 범위 필터 (일본 공휴일 표시)
- 일본 생활 특화 카테고리 필터 (식비, 교통, 주거, 엔터테인먼트 등)
- JPY 금액 범위 검색 (일본 물가 기준)
- 일본어/한국어 키워드 검색 (라멘, 컨비니, 쉐어하우스 등)
- 일본 생활 패턴별 정렬 (출근일/휴일, 계절별)

# 일본 초기비용 계산기 필터링
- 일본 지역별 필터 (도쿄, 오사카, 후쿠오카 등)
- 일본 특화 비용 유형 필터 (출국전준비/입국후정착/주거/교통/교육/생활/비상)
- 계절별 초기비용 필터 (입국 시기별)
- 저장된 일본 지역별 계산 결과 비교 검색
```

### 🥉 Medium Priority (1-2주 소요)

#### 1. 예산 관리 시스템
```bash
# 예산 설정 및 추적
- 카테고리별 예산 설정 UI
- 예산 초과 알림 시스템
- 예산 vs 실제 지출 비교 차트
- 예산 달성률 표시
```

#### 2. 고급 필터링 및 검색
```bash
# 향상된 데이터 탐색
- 다중 조건 필터링 (날짜, 카테고리, 금액 범위)
- 자연어 검색 ("지난달 식비", "100달러 이상")
- 저장된 필터 프리셋
- 정렬 및 그룹화 옵션
```

---

## 📂 권장 개발 순서 (업데이트됨)

### Week 1: 일본 특화 데이터 지속성 구현 (Critical)
- [ ] useLocalStorage 훅 구현 및 일본 특화 시스템 통합
- [ ] 일본 워킹홀리데이 거래 데이터 자동 저장/로드 시스템 (JPY 기준)
- [ ] 도쿄/오사카 지역별 초기비용 계산 결과 저장 시스템
- [ ] JPY 환율 데이터 캐싱 시스템 (KRW↔JPY)
- [ ] 일본 특화 데이터 백업/복원 기능 (JSON/CSV)
- [ ] 일본 지역별 데이터 마이그레이션 및 무결성 검증

### Week 2: 일본 생활비 통계 및 분석 시스템
- [ ] Recharts 라이브러리 통합 (일본 특화 차트)
- [ ] 일본 특화 통계 계산 로직 구현 (src/utils/japanStatistics.ts)
- [ ] 월별 JPY 수입/지출 트렌드 차트 (일본 아르바이트 패턴 반영)
- [ ] 일본 생활 카테고리별 지출 분포 파이 차트
- [ ] 도쿄 vs 오사카 초기비용 vs 실제지출 비교 차트
- [ ] 일본 워킹홀리데이 통계 대시보드 페이지 구성
- [ ] 계절별 일본 생활비 변화 분석 차트

### Week 3: 일본 초기비용 계산기 고도화
- [ ] 추가 일본 지역 데이터 구축 (도쿄/오사카 → 6개 주요 지역)
- [ ] 일본 특화 세부 카테고리 확장 및 분류 (계절별, JLPT 레벨별)
- [ ] 일본 지역별 초기비용 결과 저장 및 히스토리 관리
- [ ] 일본 예상비용 vs 실제생활비 비교 기능
- [ ] 일본 지역별 맞춤 생활 가이드 및 절약 팁 제공
- [ ] 일본 워킹홀리데이 준비 체크리스트 연동 기능

### Week 4: 일본 특화 사용자 경험 및 현지화
- [ ] 일본 생활 특화 고급 필터링 및 검색 시스템
- [ ] 일본어 UI 및 토스트 알림 시스템 (일본어 메시지)
- [ ] 일본 특화 데이터 내보내기/가져오기 UI 개선
- [ ] 일본 워킹홀리데이 관련 성능 최적화
- [ ] 일본어 접근성 (A11y) 향상 작업
- [ ] 일본 현지 생활 가이드 및 유용한 링크 통합

---

## 🛠️ 개발 시 주의사항

### 코드 품질 유지
```bash
# 매 작업 후 실행
npm run lint          # ESLint 검사
npm run type-check     # TypeScript 검사
npm run format         # Prettier 포맷팅
```

### 테스트 고려사항
```bash
# 향후 테스트 도구 추가 권장
npm install -D vitest @testing-library/react @testing-library/jest-dom

# 테스트할 주요 기능
- LocalStorage 저장/로드
- 계산 로직
- 컴포넌트 렌더링
```

### 성능 모니터링
```bash
# React DevTools Profiler 활용
- 렌더링 성능 확인
- 메모리 누수 체크
- Bundle 크기 모니터링
```

---

## 📚 참고 자료

### 추천 학습 자료
- [React Hooks 공식 문서](https://react.dev/reference/react)
- [LocalStorage 모범 사례](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
- [Recharts 문서](https://recharts.org/en-US/)
- [PWA 가이드](https://web.dev/progressive-web-apps/)

### 유용한 도구들
- [React DevTools](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi)
- [Redux DevTools](https://github.com/reduxjs/redux-devtools) (상태 관리 도입 시)
- [Bundle Analyzer](https://www.npmjs.com/package/webpack-bundle-analyzer)

---

## 🎯 마일스톤 요약

| Phase | 기간 | 주요 기능 | 난이도 | 상태 |
|-------|------|-----------|--------|---------|
| Phase 1 | ✅ 완료 | 기본 CRUD, 다중 통화, 컴포넌트 구조 | ⭐⭐⭐ | ✅ Done |
| Phase 2 | ✅ 완료 | 초기비용 계산기, 듀얼모드 네비게이션 | ⭐⭐⭐⭐ | ✅ Done |
| Phase 3 | 1-2주 | 데이터 지속성, 통계/차트 시스템 | ⭐⭐⭐ | 🔥 Priority |
| Phase 4 | 2-3주 | 고급 필터링, 계산기 확장 | ⭐⭐⭐⭐ | 🔄 Next |
| Phase 5 | 3-4주 | PWA, i18n, 성능 최적화 | ⭐⭐⭐⭐⭐ | 📋 Planned |

---

## 🔍 중요 변경사항 요약

### ✅ 완료된 기능들 (일본 특화 완료!)
- **🇯🇵 일본 특화 다중 통화 시스템**: KRW, USD, JPY 지원 + JPY 실시간 환율 중심
- **🏗️ 일본 특화 컴포넌트 아키텍처**: 모듈화된 구조 (Dashboard, TransactionForm, TransactionList, JapanInitialCostCalculator)
- **🔄 Context API**: CurrencyContext, AppModeContext 및 일본 특화 커스텀 훅
- **📝 일본 특화 타입 시스템**: 체계적 TypeScript 인터페이스 (japanCost.ts)
- ✅ **🇯🇵 일본 워킹홀리데이 초기비용 계산기**: 도쿄/오사카 지역별, 16개 카테고리 완전 구현
- ✅ **🔀 듀얼 모드 시스템**: 가계부 ↔️ 일본 특화 비용 계산기 간 완전 전환
- ✅ **🧭 통합 네비게이션**: 일본 특화 모드별 헤더 및 탭 시스템 완료
- ✅ **🏷️ 한일 병기 시스템**: 모든 일본 관련 내용에 일본어 동시 표시
- ✅ **📋 7개 카테고리 그룹**: 출국전준비, 입국후정착, 주거, 교통, 교육, 생활, 비상

### 🔥 다음 최우선 작업 (일본 특화 완료 후 로드맵)
1. **🇯🇵 일본 특화 데이터 지속성 구현** - 일본 지역별 데이터 LocalStorage 저장
2. **📊 일본 생활비 통계 및 차트 시스템** - 일본 특화 데이터 시각화
3. **🗾 일본 지역 확장** - 후쿠오카, 삿포로, 나고야 등 추가 지역
4. **🌸 일본어 현지화** - 완전한 일본어 인터페이스 구현
5. **📱 일본 생활 가이드 통합** - 체크리스트, 절약 팁, 현지 정보

### ⚠️ 기술적 고려사항 (일본 특화 완료 후)
- **🇯🇵 일본 특화 데이터 지속성**: 현재 메모리 기반에서 일본 지역별 LocalStorage 구현이 최우선
- **💱 JPY 환율 API 최적화**: KRW↔JPY 중심의 비용 효율성 및 캐싱 전략 개선
- **📊 일본 특화 성능 최적화**: 일본 생활비 차트 렌더링 및 지역별 데이터 처리 최적화
- **🌸 사용자 경험**: 일본 특화 두 모드 간 일관된 경험 및 일본어 현지화
- **🗾 일본 지역 확장성**: 더 많은 일본 지역 및 계절별 카테고리 추가를 위한 구조 설계
- **🏗️ 타입 안전성**: japanCost.ts 타입 시스템 확장 및 일본 특화 인터페이스 개선

### 🎉 Phase 2 달성 성과 (일본 특화 완료!)
- ✅ **🇯🇵 일본 특화 이중 모드 시스템**: 가계부와 일본 워킹홀리데이 특화 초기비용 계산기가 완벽히 동작
- ✅ **🏙️ 도쿄/오사카 지역별 데이터**: 실제 일본 워킹홀리데이 준비자들이 사용 가능한 현실적이고 세밀한 데이터
- ✅ **💱 JPY 실시간 통화 변환**: 모든 일본 관련 계산이 실시간 JPY 환율로 정확히 표시
- ✅ **🏗️ 일본 특화 아키텍처**: 일본 지역 확장 및 기능 추가가 용이한 모듈화된 구조
- ✅ **🏷️ 한일 병기 시스템**: 일본 워킹홀리데이에 필요한 모든 용어를 한국어-일본어로 제공
- ✅ **📋 16개 일본 특화 카테고리**: 재류카드, 국민건강보험 등 일본 고유 항목 완전 구현
- ✅ **🎯 7개 체계적 그룹 분류**: 출국 전부터 현지 정착까지 단계별 비용 관리

---

*이 문서는 2025년 현재 프로젝트 상태를 반영하여 업데이트되었습니다. Phase 2 (일본 특화 이중 모드 시스템)가 완료되어 이제 일본 특화 데이터 지속성과 현지화 기능 구현에 집중할 수 있습니다.*